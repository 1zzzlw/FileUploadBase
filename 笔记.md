### JavaScript 设置 DOM 样式（style）全总结
在 JS 中操作 DOM 样式主要分 **行内样式（element.style）**、**CSS 类名操作**、**计算样式获取** 三类，以下是最常用的场景和代码示例：

---

## 一、核心：直接设置行内样式（element.style）
### 1. 单个样式设置（驼峰命名）
CSS 属性名含 `-` 的需转为**驼峰命名**（如 `background-color` → `backgroundColor`），直接赋值即可：
```javascript
// 获取DOM元素
const box = document.getElementById('box');

// 1. 基础样式
box.style.width = '200px';        // 宽度（必须带单位）
box.style.height = '100px';       // 高度
box.style.backgroundColor = '#f00'; // 背景色（驼峰）
box.style.color = '#fff';         // 文字颜色
box.style.fontSize = '16px';      // 字体大小
box.style.border = '1px solid #000'; // 边框（复合属性）

// 2. 定位/布局
box.style.position = 'absolute';
box.style.left = '50px';
box.style.top = '30px';
box.style.display = 'flex';       // 弹性布局
box.style.justifyContent = 'center'; // 水平居中（驼峰）

// 3. 过渡/动画
box.style.transition = 'all 0.3s ease';
box.style.opacity = '0.8';        // 透明度（无单位）
box.style.zIndex = '999';         // 层级（无单位）
```

### 2. 批量设置样式（Object 赋值）
通过遍历对象批量设置，避免重复写 `style`：
```javascript
const setStyles = (el, styles) => {
  for (let key in styles) {
    if (styles.hasOwnProperty(key)) {
      el.style[key] = styles[key];
    }
  }
};

// 使用示例
setStyles(box, {
  width: '300px',
  height: '200px',
  backgroundColor: '#00f',
  color: '#fff',
  textAlign: 'center',
  lineHeight: '200px'
});
```

### 3. 移除单个行内样式
赋值为空字符串即可清除行内样式（优先级最高，清除后会继承样式表样式）：
```javascript
box.style.backgroundColor = ''; // 清除背景色行内样式
box.style.display = '';         // 清除display行内样式
```

---

## 二、更优雅：CSS 类名操作（推荐）
行内样式优先级高且不易维护，优先通过 `classList` 操作 CSS 类：
### 1. 添加类名
```javascript
box.classList.add('active', 'bg-red'); // 可添加多个类
```

### 2. 移除类名
```javascript
box.classList.remove('active'); // 移除单个类
box.classList.remove('bg-red', 'text-large'); // 移除多个类
```

### 3. 切换类名（存在则移除，不存在则添加）
```javascript
box.classList.toggle('active'); // 常用：点击切换状态
// 第二个参数：强制添加/移除（true=添加，false=移除）
box.classList.toggle('active', true); // 强制添加
```

### 4. 判断是否包含类名
```javascript
if (box.classList.contains('active')) {
  console.log('包含active类');
}
```

### 示例（CSS + JS 配合）
```css
/* CSS 定义类 */
.box { width: 200px; height: 100px; }
.active { background: red; color: white; }
```
```javascript
// JS 操作类名
box.classList.add('box'); // 基础样式
box.classList.toggle('active'); // 切换激活状态
```

---

## 三、获取计算样式（只读）
获取元素最终渲染的样式（包含样式表、继承等），**不可修改**：
```javascript
const computedStyle = getComputedStyle(box);

// 获取样式值（无需驼峰，CSS原生写法）
const bgColor = computedStyle.backgroundColor;
const width = computedStyle.width;
const fontSize = computedStyle['font-size']; // 也可带-

console.log('最终背景色：', bgColor);
```

---

## 四、特殊场景
### 1. 设置 CSS 变量（自定义属性）
```javascript
// 设置行内CSS变量
box.style.setProperty('--main-color', '#4CAF50');

// 获取CSS变量值
const mainColor = box.style.getPropertyValue('--main-color');

// 移除CSS变量
box.style.removeProperty('--main-color');
```

### 2. 全局样式修改（style标签）
```javascript
// 创建style标签并插入
const style = document.createElement('style');
style.textContent = `
  #box {
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
`;
document.head.appendChild(style);
```

---

## 五、核心注意事项
1. **单位必须加**：如 `width: '200px'`（不能写 `200`），仅少数属性（opacity、zIndex）无单位；
2. **驼峰命名**：行内样式必须用驼峰（如 `font-size` → `fontSize`），`getComputedStyle` 可兼容两种写法；
3. **优先级**：行内样式 > CSS 类名 > 样式表，尽量用类名而非行内样式；
4. **兼容性**：`classList` 兼容 IE10+，低版本需用 `className`（字符串拼接）：
   ```javascript
   // 兼容写法（不推荐，仅备用）
   box.className = 'box active'; // 覆盖原有类名
   box.className += ' bg-red';   // 追加类名（注意前面空格）
   ```

---

## 常用操作速查表
| 操作类型       | 代码示例                                  |
|----------------|-------------------------------------------|
| 单个行内样式   | `el.style.backgroundColor = '#f00'`       |
| 批量行内样式   | `setStyles(el, {width: '200px', color: '#fff'})` |
| 添加类名       | `el.classList.add('active')`              |
| 切换类名       | `el.classList.toggle('active')`           |
| 判断类名       | `el.classList.contains('active')`         |
| 获取计算样式   | `getComputedStyle(el).width`              |
| 设置CSS变量    | `el.style.setProperty('--color', '#00f')`  |